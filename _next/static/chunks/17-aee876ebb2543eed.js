(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[17],{7920:function(e,t,n){"use strict";n.d(t,{default:function(){return D}});var r=n(7437),a=n(2265),o=n(8333);let i={backgroundColor:"transparent"},l={animation:!0,animationThreshold:2e3,animationDuration:1e3,animationEasing:"cubicOut",animationDelay:0,animationDurationUpdate:300,animationEasingUpdate:"cubicOut",animationDelayUpdate:0},s={color:"#000",fontSize:12,fontWeight:"bold"},c={color:["#4475B4","#73ADD1","#AAD9E8","#FEE08F","#FDAE60","#F36C42","#D73027"]},u={show:!0,icon:"circle",top:35,left:"center",align:"left",orient:"horizontal",itemGap:10,textStyle:{fontWeight:"normal",fontSize:12}},d={show:!0,text:"",subtext:"",textAlign:"center",left:"50%",textStyle:{color:"#000",fontSize:14,fontWeight:"bold"}},h={containLabel:!0,left:"4%",right:"4%",bottom:"10%",top:"25%"},p={trigger:"item",axisPointer:{type:"shadow"},textStyle:{color:"#000",fontSize:12,fontWeight:"bold"}},f={axisLabel:{color:"#000",fontSize:12,fontWeight:"normal"},axisLine:{lineStyle:{color:"#000"}},axisTick:{lineStyle:{color:"#000"}}},m=e=>{let{title:t,xAxisLabel:n=null,yAxisLabel:r=null,horizontal:a=!1,dimensions:o=[]}=e;return{title:{...d,text:t},grid:{...h},legend:{...u,data:o.slice(1)},tooltip:{...p},xAxis:{type:a?"value":"category",name:n,nameTextStyle:{...s},nameLocation:a?"end":"center",nameGap:a?20:45,...f},yAxis:{type:a?"category":"value",name:r,nameTextStyle:{...s},nameLocation:a?"center":"end",nameGap:a?45:20,...f},series:[],...c,...i,...l}},g=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.find(e=>isNaN(e)),n=e.filter(e=>e!==t);return[t,...n]},x=e=>{if(Array.isArray(e)){if(e.length>0&&Array.isArray(e[0])){let[t,...n]=e;return{dimensions:t.map(e=>e.toLowerCase()),source:n.map(e=>{let n={};return t.forEach((t,r)=>{n[t.toLowerCase()]=void 0!==e[r]?e[r]:0}),n})}}if(e.length>0&&"object"==typeof e[0]){let t=g(Array.from(new Set(e.flatMap(e=>e?Object.keys(e):[])))),n=e.filter(e=>e).map(e=>{let n={};return t.forEach(t=>{n[t]=void 0!==e[t]?e[t]:0}),n});return{dimensions:t,source:n}}}else if("object"==typeof e){let t=Object.keys(e),n=Math.max(...t.map(t=>e[t].length)),r=g(t),a=Array.from({length:n},(t,n)=>r.reduce((t,r)=>(t[r]=void 0!==e[r][n]?e[r][n]:0,t),{}));return{dimensions:r,source:a}}throw Error("Unsupported data format")},v=e=>{let{config:t={},data:n=[],getOptions:r=()=>{}}=e,i=(0,a.useRef)(null);return(0,a.useEffect)(()=>{let e;return i.current&&setTimeout(()=>{!e&&i.current&&(e=(0,o.S1)(i.current));let{dimensions:a,source:l}=x(n),s={...m({...t,dimensions:a}),dataset:{dimensions:a,source:l},...r({dimensions:a})};e&&e.setOption(s)},0),()=>{e&&e.dispose()}},[t,n,r]),i};var y="_styles-module__container__1Lxpd";let w=e=>{let{horizontal:t=!1,dimensions:n=[]}=e;return{series:n.slice(1).map(e=>({name:e,type:"bar",encode:{x:t?e:"category",y:t?"category":e}}))}},b=e=>{let{config:t,data:n,horizontal:r=!1}=e,o=v({config:{...t,horizontal:r},data:n,getOptions:e=>{let{dimensions:t}=e;return w({horizontal:r,dimensions:t})}});return a.createElement("div",{ref:o,role:"figure",className:y})},j=e=>{let{horizontal:t=!1,dimensions:n=[]}=e;return{series:n.slice(1).map(e=>({name:e,type:"line",encode:{x:t?e:"category",y:t?"category":e}}))}},C=e=>{let{config:t,data:n,horizontal:r=!1}=e,o=v({config:{...t,horizontal:r},data:n,getOptions:e=>{let{dimensions:t}=e;return j({horizontal:r,dimensions:t})}});return a.createElement("div",{ref:o,role:"figure",className:y})},k=e=>{let{dimensions:t=[]}=e;return{series:[{type:"pie",encode:{itemName:t[0],value:t.slice(1)}}]}},A=e=>{let{config:t,data:n}=e,r=v({config:t,data:n,getOptions:e=>{let{dimensions:t}=e;return k({dimensions:t})}});return a.createElement("div",{ref:r,role:"figure",className:y})},E=e=>{let{dimensions:t=[],radius:n}=e;return{series:[{type:"pie",radius:n,encode:{itemName:t[0],value:t.slice(1)}}]}},N=e=>{let{config:t,data:n,size:r=40}=e,o=(0,a.useMemo)(()=>r>=70?0:70-r,[r]),i=v({config:t,data:n,getOptions:e=>{let{dimensions:t}=e;return E({dimensions:t,radius:["".concat(o,"%"),"".concat(70,"%")]})}});return a.createElement("div",{ref:i,role:"figure",className:y})},z=e=>{let{dimensions:t,stackMapping:n,horizontal:r=!0}=e,a={};Object.keys(n).forEach(e=>{n[e].forEach(t=>{a[t]=e})});let o=t.slice(1).map(e=>({name:e,type:"bar",stack:a[e]||"defaultStack",encode:{x:r?e:"category",y:r?"category":e}}));return{tooltip:{...p,trigger:"axis"},series:o}},S=e=>{let{config:t,data:n,stackMapping:r={},horizontal:o=!0}=e,i=v({config:{...t,horizontal:o},data:n,getOptions:e=>{let{dimensions:t}=e;return z({dimensions:t,stackMapping:r,horizontal:o})}});return a.createElement("div",{ref:i,role:"figure",className:y})},L=e=>{let{horizontal:t=!1,dimensions:n=[]}=e,r=n.slice(1).map(e=>({name:e,type:"bar",barGap:0,encode:{x:t?e:"category",y:t?"category":e}}));return{tooltip:{...p,trigger:"axis"},series:r}},T=e=>{let{config:t,data:n,horizontal:r=!1}=e,o=v({config:{...t,horizontal:r},data:n,getOptions:e=>{let{dimensions:t}=e;return L({horizontal:r,dimensions:t})}});return a.createElement("div",{ref:o,role:"figure",className:y})};var O=n(9518),_=n(7850),D=()=>{let{isRaw:e,rawConfig:t,defaultConfig:n}=(0,O.P)(),{type:o,...i}=e?t:n,{showJson:l,showCode:s}=(0,_._)(),[c,u]=(0,a.useState)(!1);switch((0,a.useEffect)(()=>{l||s||c||u(!0),(l||s)&&c&&u(!1)},[l,s,c]),o){case"bar":return(0,r.jsx)(b,{...i});case"line":return(0,r.jsx)(C,{...i});case"pie":return(0,r.jsx)(A,{...i});case"doughnut":return(0,r.jsx)(N,{...i});case"stack":return(0,r.jsx)(S,{...i});case"stackCluster":return(0,r.jsx)(T,{...i});default:return null}}},8970:function(e,t,n){"use strict";var r=n(7437),a=n(7850);t.default=e=>{let{children:t}=e,{showJson:n,showCode:o}=(0,a._)();return(0,r.jsx)("div",{className:"w-full lg:w-1/2 ".concat(!n&&!o&&"lg:w-full"," h-1/2 lg:h-[calc(100vh-20px)] bg-white space-y-3 border-r border-zinc-300"),children:t})}},1254:function(e,t,n){"use strict";var r=n(7437),a=n(2265),o=n(5300),i=n(6178),l=n(8949),s=n(9518),c=n(6558);n(529),n(8832);var u=n(4762);o.Z.registerLanguage("javascript",i.Z);let d=(e,t)=>{let n=0,r=o.Z.highlightAuto(e,[t]).value.replace(/<span class="hljs-comment">(.|\n)*?<\/span>/g,e=>e.replace(/\r?\n/g,()=>'\n<span class="hljs-comment">')).split(/\r?\n/).map(e=>'<tr><td class="line-number" data-pseudo-content='.concat(++n," /><td>").concat(e,"</td></tr>")).join("");return'<pre class="pt-4 ml-[-16px]"><code><table class="code-table">'.concat(r,"</table></code></pre>")};t.default=()=>{let[e,t]=(0,a.useState)(!1),{isRaw:n,defaultConfig:o,rawConfig:i}=(0,s.P)(),h=(0,c.F)(n?i:o);return(0,r.jsxs)("div",{className:"w-full relative hljs",children:[(0,r.jsx)("div",{className:"w-full absolute top-2 right-2 text-right",children:(0,r.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(h),t(!0),setTimeout(()=>{t(!1)},1e3)},children:(0,r.jsx)(u.TI,{size:20})})}),(0,r.jsx)("div",{dangerouslySetInnerHTML:{__html:d(h,"javascript")}}),(0,r.jsx)(l.Z,{show:e,children:"The code block content has been copied to the clipboard."})]})}},6672:function(e,t,n){"use strict";var r=n(7437),a=n(7850);t.default=()=>{let e=(0,a._)(),t=(0,a.e)();return(0,r.jsxs)("div",{className:"w-full max-h-[20px] flex items-center justify-between bg-gray-50 border-b border-zinc-300",children:[(0,r.jsxs)("div",{className:"w-fit flex items-center",children:[(0,r.jsx)("img",{alt:"github",src:"https://img.shields.io/badge/Akvo-Charts-009688?logo=github&style=flat-square",className:"w-full h-auto"}),(0,r.jsx)("img",{src:"https://img.shields.io/npm/v/akvo-charts?logo=npm&style=flat-square",alt:"npm"})]}),(0,r.jsxs)("div",{className:"w-fit flex",children:[(0,r.jsx)("button",{type:"button",className:"px-4 py-2 leading-3 font-bold rounded-none border-l border-zinc-300 bg-zinc-200 hover:bg-zinc-300",onClick:()=>t({type:"JSON"}),children:"".concat(e.showJson?"☑":"☒"," JSON")}),(0,r.jsx)("button",{type:"button",className:"px-4 py-2 leading-3 font-bold rounded-none border-l border-zinc-300 bg-zinc-200 hover:bg-zinc-300",onClick:()=>t({type:"CODE"}),children:"".concat(e.showCode?"☑":"☒"," Code")})]})]})}},4762:function(e,t,n){"use strict";n.d(t,{KN:function(){return i},TI:function(){return o},XH:function(){return l},nQ:function(){return a}});var r=n(7437);let a=e=>{let{size:t=16}=e;return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",width:t,height:t,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"})})},o=e=>{let{size:t=16}=e;return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",width:t,height:t,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"})})},i=e=>{let{size:t=16}=e;return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",width:t,height:t,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"})})},l=e=>{let{size:t=16}=e;return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",width:t,height:t,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})})}},4856:function(e,t,n){"use strict";var r=n(7437),a=n(2265),o=n(8636),i=n.n(o),l=n(9518),s=n(4762),c=n(8949),u=n(6558);t.default=()=>{let[e,t]=(0,a.useState)(null),[n,o]=(0,a.useState)(!0),{isRaw:d,defaultConfig:h,rawConfig:p}=(0,l.P)(),f=(0,l.$)(),[m,g]=(0,u._)("defaultConfig",h),[x,v]=(0,u._)("rawConfig",p),y=e=>{let{updated_src:t}=e;f({type:"UPDATE_CHART",payload:t})},w=e=>{let n="Something went wrong";t(n),setTimeout(()=>{t(null)},1e3),console.error(n,e)},b=(0,a.useCallback)(()=>{n&&(o(!1),f({type:"UPDATE_CHART",payload:d?x:m}))},[f,x,m,d,n]);return(0,a.useEffect)(()=>{b()},[b]),(0,r.jsxs)("div",{className:"w-full relative",children:[(0,r.jsxs)("div",{className:"w-full flex justify-end sticky top-2 right-2 z-[99] rounded-sm text-lg",children:[(0,r.jsxs)("a",{href:d?"https://echarts.apache.org/en/option.html#title":"https://github.com/akvo/akvo-charts/blob/main/README.md",target:"_blank",className:"w-fit h-auto flex items-center gap-2 px-4 py-1 bg-white hover:bg-gray-200",rel:"noreferrer","data-testid":"link-rtd",children:[(0,r.jsx)(s.KN,{}),(0,r.jsx)("span",{children:"Read Docs"})]}),(0,r.jsxs)("div",{className:"px-3 py-1 bg-white",children:[(0,r.jsx)("input",{type:"checkbox",id:"raw",onClick:()=>{f({type:"RAW",payload:x})}}),(0,r.jsx)("label",{htmlFor:"raw",className:"mx-1",children:"Raw"})]}),(0,r.jsxs)("button",{type:"button",className:"w-fit h-auto flex items-center gap-2 px-4 py-1 bg-white hover:bg-gray-200",onClick:()=>{try{f({type:"DELETE"}),v(null),g(null),t("Configuration cleared successfully"),setTimeout(()=>{t(null)},1e3)}catch(e){w(e)}},children:[(0,r.jsx)(s.XH,{}),(0,r.jsx)("span",{children:"Clear"})]}),(0,r.jsxs)("button",{type:"button",className:"w-fit h-auto flex items-center gap-2 px-4 py-1 text-white bg-blue-600 hover:bg-blue-700",onClick:()=>{try{d?v(p):g(h),t("Configuration successfully saved"),setTimeout(()=>{t(null)},1e3)}catch(e){w(e)}},children:[(0,r.jsx)(s.nQ,{}),(0,r.jsx)("span",{children:"Save"})]})]}),(0,r.jsx)(i(),{src:d?p:h,theme:"monokai",displayDataTypes:!1,onEdit:y,onAdd:y,indentWidth:2}),(0,r.jsx)(c.Z,{show:!!e,children:e})]})}},8949:function(e,t,n){"use strict";var r=n(7437);n(8957),t.Z=e=>{let{children:t,show:n=!1}=e;return(0,r.jsx)("div",{id:"snackbar",className:"".concat(n?"show":""," text-lg"),children:t})}},9518:function(e,t,n){"use strict";n.d(t,{$:function(){return u},P:function(){return c}});var r=n(7437),a=n(2265);let o=(0,a.createContext)(null),i=(0,a.createContext)(null),l={rawConfig:{},defaultConfig:{type:"bar",config:{title:"Akvo Chart",xAxisLabel:"Year",yAxisLabel:"Income",horizontal:!1},data:[{label:"January",value:30},{label:"February",value:20},{label:"March",value:50}]},mapConfig:{},mapRawConfig:{},isRaw:!1,isMap:!1},s=(e,t)=>{switch(t.type){case"UPDATE_MAP":if(!t.payload)return e;if(e.isRaw)return{...e,mapRawConfig:{...e.mapRawConfig,...t.payload}};return{...e,mapConfig:{...e.mapConfig,...t.payload}};case"UPDATE_CHART":if(!t.payload)return e;if(e.isRaw)return{...e,rawConfig:{...e.rawConfig,...t.payload}};return{...e,defaultConfig:{...e.defaultConfig,...t.payload}};case"RAW":return{...e,isRaw:!e.isRaw,rawConfig:t.payload||e.rawConfig};case"MAP":return{...e,isMap:!e.isMap};case"DELETE":return l;default:throw Error("Unknown action: ".concat(t.type,". Remeber action type must be CAPITAL text."))}},c=()=>(0,a.useContext)(o),u=()=>(0,a.useContext)(i);t.default=e=>{let{children:t}=e,[n,c]=(0,a.useReducer)(s,l);return(0,r.jsx)(o.Provider,{value:n,children:(0,r.jsx)(i.Provider,{value:c,children:t})})}},7850:function(e,t,n){"use strict";n.d(t,{_:function(){return c},e:function(){return u}});var r=n(7437),a=n(2265);let o=(0,a.createContext)(null),i=(0,a.createContext)(null),l={showJson:!0,showCode:!0},s=(e,t)=>{switch(t.type){case"JSON":return{...e,showJson:!e.showJson};case"CODE":return{...e,showCode:!e.showCode};default:throw Error("Unknown action: ".concat(t.type,". Remeber action type must be CAPITAL text."))}},c=()=>(0,a.useContext)(o),u=()=>(0,a.useContext)(i);t.default=e=>{let{children:t}=e,[n,c]=(0,a.useReducer)(s,l);return(0,r.jsx)(o.Provider,{value:n,children:(0,r.jsx)(i.Provider,{value:c,children:t})})}},6558:function(e,t,n){"use strict";n.d(t,{F:function(){return s},_:function(){return u}});let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return JSON.stringify(e,t,n).replace(/"([^(")]+)":/g,"$1:")},a={bar:'import { Bar } from "akvo-charts";',line:'import { Line } from "akvo-charts";',pie:'import { Pie } from "akvo-charts";',doughnut:'import { Doughnut } from "akvo-charts";',stack:'import { StackBar } from "akvo-charts";',stackCluster:'import { StackClusterColumn } from "akvo-charts";'},o=e=>(null==a?void 0:a[e])||null,i=(e,t)=>{let n=Object.keys(t).map(e=>["config","data"].includes(e)?"".concat(e,"={").concat(e,"}"):(null==t?void 0:t[e])?"object"==typeof t[e]?"".concat(e,"={").concat(r(t[e],null,0),"}"):"".concat(e,"={").concat(t[e],"}"):"").join(" ");switch(e){case"bar":return"<Bar ".concat(n," />");case"line":return"<Line ".concat(n," />");case"pie":return"<Pie ".concat(n," />");case"doughnut":return"<Doughnut ".concat(n," />");case"stack":return"<StackBar ".concat(n," />");case"stackCluster":return"<StackClusterColumn ".concat(n," />");default:return null}},l=e=>{let{config:t,data:n}=e;if(!t||!n)return null;let a=r(t),o=r(n);return["const config = ".concat(a,";\n"),"const data = ".concat(o,";\n")].join("")};var s=e=>{let{type:t,...n}=e,r=[];return(o(t)&&r.push("".concat(o(t),"\n\n")),l(n)&&r.push("".concat(l(n),"\n")),i(t,n))?[...r,"const Chart = () => {\n","	return (\n","		<div>\n","			".concat(i(t,n),"\n"),"		</div>\n","	);\n","};\n\n","export default Chart;"].join(""):[...r,"const Chart = () => <div>{/* TODO - Akvo charts */}</div>\n\n","export default Chart;"].join("")},c=n(2265),u=(e,t)=>{let[n,r]=(0,c.useState)(()=>{try{let n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(e){console.log(e)}});return[n,t=>{try{let a=t instanceof Function?t(n):t;window.localStorage.setItem(e,JSON.stringify(a)),r(t)}catch(e){console.log(e)}}]}},8832:function(){},8957:function(){}}]);